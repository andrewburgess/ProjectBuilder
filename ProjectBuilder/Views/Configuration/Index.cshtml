@model ProjectBuilder.ViewModels.Configuration.IndexViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Javascript {
    <script type='text/javascript'>
        var nodes = @Html.Raw(Json.Encode(Model.Nodes));
    </script>
    <script type='text/javascript' src='@Url.Content("~/Scripts/configuration/view-model.js")'></script>
}

@section Hero {
<h1>Configuration</h1>
<p>
    Set up the project builder and get all the pieces working nicely
</p>
}

<div id='node-list' class="span3">
    <div>
        <button id='add-node' class='btn btn-primary' data-bind='click: addNode'>Add Node</button>
    </div>

    <ul class="nav nav-list affix" data-bind='foreach: nodes'>
        <li data-bind="text: Name" />
    </ul>
</div>

<div id='node-form' class='modal fade' data-bind='modal: modalNode'>
    <div class='modal-header'>
        <button class='close' data-dismiss='modal'>&times;</button>
        <h3>Node Form</h3>

        @Url.Action("Create", "Node")
        @Url.Action("Index", "Configuration")
    </div>
    <div class='modal-body'>
        @using (Html.BeginForm("Create", "Node", FormMethod.Post, new { @class = "form-horizontal" }))
        {

        }
    </div>
    <div class='modal-footer'>
        <button class='btn btn-primary'>Save</button>
        <button class='btn' data-dismiss='modal'>Cancel</button>
    </div>
</div>